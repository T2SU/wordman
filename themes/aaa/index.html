<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Test</title>
		<link rel="stylesheet" href="/themes/aaa/css/bootstrap.min.css">
		<link rel="stylesheet" href="/themes/aaa/css/all.css">
		<link rel="stylesheet" href="/themes/aaa/css/aaa.css">
		<link rel="stylesheet" href="/themes/aaa/css/loading.css">
		<script src="/themes/aaa/js/jquery-3.3.1.min.js"></script>
		<script src="/themes/aaa/js/bootstrap.min.js"></script>
		<script src="/themes/aaa/js/all.js"></script>
		<meta name="viewport" content="width=device-width, initial-scale=1">
	</head>
	<body class="text-center">
		<header class="head-section">
			<nav class="navbar navbar-dark bg-primary navbar-static-top navbar-expand-lg">
				<a class="navbar-brand" href="/">{{ data['app_ver'] }}</a>
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#topbar01" aria-controls="topbar01" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="topbar01">
					<ul class="navbar-nav mr-auto mt-2 mt-lg-0">
						<li class="nav-item active">
							<a class="nav-link" href="#">List <span class="sr-only">(current)</span></a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="#">Add</a>
						</li>
					</ul>
					<form class="form-inline my-1 my-lg-0">
						<input class="form-control mr-sm-1" type="search" placeholder="Search" aria-label="Search">
						<button class="btn btn-outline-light my-2 my-sm-0" type="submit">Search</button>
					</form>
					<form class="form-inline my-1 my-lg-0 mx-1">
						<input class="form-control mr-sm-1" type="text" placeholder="Word" aria-label="World">
						<button class="btn btn-outline-light my-2 my-sm-0" type="submit">Fast Add</button>
					</form>
				</div>
			</nav>
		</header>
		<section id="body">
			<div class="container">
				<!--<div class="ctx ci">
					<div class="thgroup">
						<div class="ctx ca">
							<div class="trow">
								<div class="theader tcell c1">Word</div>
								<div class="theader tcell c2">Refer</div>
								<div class="theader tcell-auto-hidden c3">Last Referred</div>
							</div>
						</div>
					</div>
					<div class="tcgroup">
						<div class="ctx word_context ca">
							<div class="tdata tcell word c1">Apple</div>
							<div class="tdata tcell c2">1</div>
							<div class="tdata tcell-auto-hidden c3">2018-07-13 00:00:00</div>
							<div class="trow">
								<div class="ctx ca">
									<div class="tcell">
										<div class="word_detail ci"></div>
									</div>
								</div>
							</div>
						</div>
						<div class="ctx word_context ca">
							<div class="tdata tcell word c1">Box</div>
							<div class="tdata tcell c2">2</div>
							<div class="tdata tcell-auto-hidden c3">2018-07-13 00:00:00</div>
							<div class="trow">
								<div class="ctx ca">
									<div class="trow">
										<div class="word_detail ci"></div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>-->
				<table class="table">
					<thead class="thead-dark">
						<tr>
							<th data-sortable="true" class="c1">Word</th>
							<th data-sortable="true" class="c2">Refer</th>
							<th data-sortable="true" class="c3 auth-hidden">Last Referred</th>
						</tr>
					</thead>
					<tbody>
                        {% for word, context in data['data'].items() %}
						<tr class="word_context">
							<th class="word">{{ word }}</th>
							<td>{{ context['Ref'] }}</td>
							<td>{{ context['Date'] }}</td>
						</tr>
                        {% endfor %}
					</tbody>
				</table>
			</div>
		</section>
		<footer class="footer-small" id="footer">
			<div class="container">
			</div>
		</footer>

		<script>
			
			function word_detail_open(event) {
                if ($(this).data('mode') != 'detail') {
				    var word = $(this).find(".word").html();
                    var new_row = $('<tr class="word_detail"><td></td></tr>').insertAfter(this);
                    var new_td = new_row.find("td");
                    new_td.attr('colspan', '3');
                    new_td.css("background-color", "white");
                    new_td.css("font-weight", "bold");
                    new_td.css("font-size", "32pt");
                    new_td.html('<div class="card"><div class="card-body"><h4 class="card-title">Examples</h4><p class="card-text card-font">example texts</p></div><div class="card-body"><h4 class="card-title">Synonyms</h4><p class="card-text card-font">synonym texts</p></div><div class="card-body"><h4 class="card-title">Antonyms</h4><p class="card-text card-font">antonym texts</p></div></div>');
                    $(this).data('mode', 'detail');
                    new_row.fadeIn(150, function () {
                        new_row.show();
                    });
                    $(this).data('new_row', new_row);
                }
                else {
                    var new_row = $(this).data('new_row');
                    new_row.fadeOut(150, function () {
                        new_row.remove();
                    });
                    $(this).data('mode', 'summary');
                }
			}
			$('.word_context').click(word_detail_open);

		</script>
	</body>
</html>
